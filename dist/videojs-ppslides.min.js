/*! @name videojs-ppslides @version 0.0.6 @license MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):(e=e||self).videojsPpslides=t(e.videojs)}(this,(function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t},i=function(e){function i(t,i){var s;return(s=e.call(this,t,i)||this).addClass("vjs-menu-button"),s.addClass("vjs-slides-control"),s.addClass("vjs-icon-square"),s.addClass("vjs-icon-slides"),s.controlText(t.localize("Slides")),s}return t(i,e),i.prototype.handleClick=function(){this.player().getChild("SlidesOverlay").open()},i}(e.getComponent("Button"));function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var o=function(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e},n=function(){function e(e,t){this.player=e,this.options=t,this._createContent()}var t=e.prototype;return t.getContent=function(){return this.content},t._createContent=function(){var e=document.createElement("div");e.innerHTML='<div class="vjs-ppslides">\n      <ul class="vjs-ppslides__container">\n        '+this._getSlidesItems().join("")+"\n      </ul>\n    </div>",this.content=e.firstChild},t._getSlidesItems=function(){var e=[];return this.options.slideinstances.forEach((function(t){e.push('\n        <li class="vjs-ppslides__slide'+(t.active?" active":"")+'">\n          <a href="#" class="vjs-ppslides__slide_link" data-timecode="'+t.timecode+'" data-id="'+t.slide_id+'">\n            <img src="'+t.url+'" class="vjs-ppslides__img">\n          </a>\n        </li>\n      ')})),e},o(e,[{key:"slidesOptions",get:function(){var e=this.options;return{position:e.position,visibleSlides:e.visibleSlides,slideinstances:e.slideinstances}}}]),e}(),l=function(e){function i(t,i){var s;return(s=e.call(this,t,i)||this).options=i,s.playerClassName="vjs-videojs-modal_open",s.playerClassNamePos="vjs-videojs-modal_"+s.options.position,s}t(i,e);var s=i.prototype;return s.open=function(){var t=this.player(),i=document.getElementsByClassName("vjs-ppslides__slide_link");t.addClass(this.playerClassName),t.addClass(this.playerClassNamePos),e.prototype.open.call(this),t.trigger("slides:opened"),Array.from(i).forEach((function(e){var t=this;this.options.isLive?e.addEventListener("click",(function(e){var i=e.target.parentElement.getAttribute("data-id");t.zoom(i)})):e.addEventListener("click",(function(e){var i=e.target.parentElement.getAttribute("data-timecode");t.seek(i)}))}),this)},s.close=function(){var t=this.player();t.removeClass(this.playerClassName),t.removeClass(this.playerClassNamePos),e.prototype.close.call(this),t.trigger("slides:closed")},s.seek=function(e){var t=this.player();t.currentTime(e),t.play()},s.zoom=function(e){},i}(e.getComponent("ModalDialog")),r=function(e){function i(t,i){var s;return(s=e.call(this,t,i)||this).player=t,s.options=i,s}t(i,e);var s=i.prototype;return s._createModal=function(){var e=new n(this.player,this.options).getContent();this.modal=new l(this.player,{content:e,temporary:!1,pauseOnOpen:!1,position:this.options.position,isLive:this.options.isLive}),this.el=this.modal.contentEl(),this.player.addChild(this.modal)},s.open=function(){this._createModal(),this.modal.open()},i}(e.getComponent("Component")),d=e.getPlugin("plugin"),a={position:"bottom",isLive:!1,visibleSlides:6,slideinstances:[{slide_id:1,timecode:0,url:"https://picsum.photos/id/1/1280/720"},{slide_id:2,timecode:5,url:"https://picsum.photos/id/2/1280/720"},{slide_id:3,timecode:10,url:"https://picsum.photos/id/3/1280/720"},{slide_id:4,timecode:15,url:"https://picsum.photos/id/4/1280/720"},{slide_id:5,timecode:20,url:"https://picsum.photos/id/5/1280/720"},{slide_id:6,timecode:25,url:"https://picsum.photos/id/6/1280/720"},{slide_id:7,timecode:30,url:"https://picsum.photos/id/7/1280/720"},{slide_id:8,timecode:35,url:"https://picsum.photos/id/8/1280/720"},{slide_id:9,timecode:40,url:"https://picsum.photos/id/9/1280/720"}]},p=function(i){function s(t,s){var o;return(o=i.call(this,t)||this).options=e.mergeOptions(a,s),o.player.ready((function(){o.player.addClass("vjs-ppslides"),t.addClass("vjs-videojs-ppslides"),t.getChild("controlBar").addChild("SlidesButton",o.options),t.addChild("SlidesOverlay",o.options)})),o}return t(s,i),s}(d);return p.defaultState={},p.VERSION="0.0.6",e.registerComponent("SlidesButton",i),e.registerComponent("SlidesOverlay",r),e.registerPlugin("ppslides",p),p}));
